[
  {
    "objectID": "us_housing_clustering.html",
    "href": "us_housing_clustering.html",
    "title": "US Housing Market Clustering & PCA",
    "section": "",
    "text": "This report presents a data-driven segmentation of the US housing market at ZIP/city level. We combine housing indicators (e.g., median sale/list prices, inventory, DOM) with points of interest (POIs) from OSM and demographics from ACS/Census. Our workflow focuses on standardization → dimensionality reduction (PCA) → clustering (K-Means) and geospatial visualization. We keep the code unchanged and emphasize clear, reproducible interpretation of each step.\nKey questions we address: - Which latent dimensions best summarize variation across locations? - How many distinct market segments (clusters) emerge? - What characterizes each cluster in terms of market signals, POIs, and demographics? - Where are these clusters located geographically?\n\nNote: This document does not include supervised price prediction. The emphasis is on structure discovery and interpretation.\n\n\n\nWe start by loading the main dataset from Kaggle (HousingTS) and merging auxiliary features when available (POI counts from OSM and ACS/Census demographics). We ensure identifiers (e.g., ZIP/city, date) are consistent and that time-dependent features can be aggregated at the desired granularity.\n\n\n\nBelow we execute the corresponding step and display intermediate outputs for inspection and traceability.\n\n\n\nBelow we execute the corresponding step and display intermediate outputs for inspection and traceability.\n\n\n\nWe apply PCA to capture the dominant variation across locations while retaining a predefined proportion of explained variance (e.g., 90%). Interpreting PC1 and PC2 helps summarize broad market/demographic/POI gradients. Scatter plots in PCA space offer a compact view of separation tendencies prior to clustering.\n\n\n[0.34685209 0.23041372 0.11418052 0.06327196 0.04944255 0.04276308\n 0.02503939 0.02146856 0.01447887]\n[0.34685209 0.57726581 0.69144634 0.7547183  0.80416085 0.84692393\n 0.87196332 0.89343188 0.90791075]\n\n\n\n\n\nWe evaluate candidate values of K (e.g., inertia curves and/or silhouette checks) to balance parsimony and segmentation quality. The selected K is used to fit K-Means in the reduced PCA space, stabilizing clusters and improving separation.\n\n\nComponentes PCA: 9\nVarianza explicada por componente: [0.34685209 0.23041372 0.11418052 0.06327196 0.04944255 0.04276308\n 0.02503939 0.02146856 0.01447887]\nVarianza explicada acumulada: [0.34685209 0.57726581 0.69144634 0.7547183  0.80416085 0.84692393\n 0.87196332 0.89343188 0.90791075]\n\n\n\n\n\nWe apply PCA to capture the dominant variation across locations while retaining a predefined proportion of explained variance (e.g., 90%). Interpreting PC1 and PC2 helps summarize broad market/demographic/POI gradients. Scatter plots in PCA space offer a compact view of separation tendencies prior to clustering.\n\nplt.figure(figsize=(8,6))\nplt.scatter(pca_df[\"PC1\"], pca_df[\"PC2\"], s=8, alpha=0.5)\nplt.xlabel(\"PC1\")\nplt.ylabel(\"PC2\")\nplt.title(\"Espacio PCA = PC1 vs PC2\")\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\nWe evaluate candidate values of K (e.g., inertia curves and/or silhouette checks) to balance parsimony and segmentation quality. The selected K is used to fit K-Means in the reduced PCA space, stabilizing clusters and improving separation.\n\n\nk con mejor silueta: 4\n\n\n\n\n\n\n\n\n\n\n\n\nWe apply PCA to capture the dominant variation across locations while retaining a predefined proportion of explained variance (e.g., 90%). Interpreting PC1 and PC2 helps summarize broad market/demographic/POI gradients. Scatter plots in PCA space offer a compact view of separation tendencies prior to clustering.\n\n\n\nWe apply PCA to capture the dominant variation across locations while retaining a predefined proportion of explained variance (e.g., 90%). Interpreting PC1 and PC2 helps summarize broad market/demographic/POI gradients. Scatter plots in PCA space offer a compact view of separation tendencies prior to clustering.\n\n\nstation                    6.292687\nrestaurant                 6.033795\nsupermarket                5.931101\nbank                       5.798149\npark                       5.090172\nhospital                   4.288910\nschool                     3.899366\nmedian_list_ppsf           2.905003\nmedian_ppsf                2.526744\nbus                        2.178003\nMedian Home Value          1.285565\nprice                      1.164426\nmedian_sale_price          1.155048\nTotal Housing Units        0.807132\nmall                       0.791088\nmedian_list_price          0.729817\nTotal Labor Force          0.695403\nMedian Commute Time        0.679908\nPer Capita Income          0.656566\nTotal School Enrollment    0.654586\ndtype: float64\n\n\n\n\n\nBefore multivariate analysis, features are standardized using z-scores to place all variables on comparable scales. This is crucial for PCA and K-Means, which are sensitive to differences in units and magnitude.\n\n\n\nBelow we execute the corresponding step and display intermediate outputs for inspection and traceability.\n\n\n\n\n\n\n\nTable 1: Perfiles de cluster (z-scores estandarizados) — columnas ordenadas por importancia\n\n\n\n\n\n \nstation\nrestaurant\nsupermarket\nbank\npark\nhospital\nschool\nmedian_list_ppsf\nmedian_ppsf\nbus\nMedian Home Value\nprice\nmedian_sale_price\nTotal Housing Units\nmall\nmedian_list_price\nTotal Labor Force\nMedian Commute Time\nPer Capita Income\nTotal School Enrollment\n\n\ncluster\n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n\n\n\n\n0\n-0.22\n-0.26\n-0.36\n-0.29\n-0.37\n-0.32\n-0.36\n-0.34\n-0.33\n-0.27\n-0.42\n-0.30\n-0.30\n-0.72\n-0.28\n-0.24\n-0.72\n-0.71\n-0.30\n-0.71\n\n\n1\n-0.07\n-0.08\n0.04\n-0.03\n0.06\n0.03\n0.11\n-0.20\n-0.18\n0.04\n-0.12\n-0.23\n-0.22\n0.98\n0.12\n-0.19\n1.00\n1.00\n-0.10\n1.01\n\n\n2\n4.96\n4.89\n4.86\n4.80\n4.51\n4.14\n3.95\n3.33\n3.09\n2.96\n1.70\n1.70\n1.69\n1.21\n1.77\n1.32\n0.98\n0.93\n1.15\n0.85\n\n\n3\n0.12\n0.34\n0.42\n0.35\n0.46\n0.42\n0.40\n1.26\n1.22\n0.41\n1.67\n1.50\n1.50\n-0.03\n0.45\n1.21\n-0.03\n-0.05\n1.24\n-0.07\n\n\n\n\n\n\n\n\n\n\n\nWe apply PCA to capture the dominant variation across locations while retaining a predefined proportion of explained variance (e.g., 90%). Interpreting PC1 and PC2 helps summarize broad market/demographic/POI gradients. Scatter plots in PCA space offer a compact view of separation tendencies prior to clustering.\n\nimport geopandas as gpd\n\nzcta = gpd.read_file(\"C:/EMILIO/PROYECTOS PERSONALES EN PYTHON/US_housing_clustering/data/Shapefiles/tl_2020_us_zcta520.shp\")\n\nzcta.head()\n\n#ajustamos el dataframe para tener solo el zipcode y el cluster asociado.\ndf_map = pca_df[[\"zipcode\", \"cluster\",\"city\"]].drop_duplicates()\n\n#Como en el archivo .shp tiene el zipcode con 5 dígitos hay que actualizar la variable en este df para matchear\ndf_map[\"zipcode_str\"] = df_map[\"zipcode\"].astype(str).str.zfill(5)\n\n#renombramos la variable para que tengan el mismo nombre en ambos datframes.\nzcta = zcta.rename(columns={\"ZCTA5CE20\": \"zipcode_str\"})\n\n#mergeamos para tenerlo en una sola BBDD\ngdf = zcta.merge(df_map, on=\"zipcode_str\", how=\"left\")\n\n\ngdf.plot(column=\"cluster\", categorical=True, legend=True, figsize=(12,8))\n\n\n\n\n\n\n\n\n\n\n\nBelow we execute the corresponding step and display intermediate outputs for inspection and traceability.\n\n# Filtrar por una ciudad\nciudad = \"NY\"  # cámbialo por el nombre de la ciudad que te interese\ngdf_city = gdf[gdf[\"city\"] == ciudad].copy()\n\n# Revisar cuántos clusters hay dentro de esa ciudad\nprint(gdf_city[\"cluster\"].value_counts())\n\nimport matplotlib.pyplot as plt\n\nfig, ax = plt.subplots(figsize=(10, 8))\ngdf_city.plot(column=\"cluster\", categorical=True, legend=True, cmap=\"Set2\", ax=ax)\nax.set_title(f\"Clusters en {ciudad}\", fontsize=14)\nax.axis(\"off\")\nplt.show()\n\ncluster\n0.0    535\n3.0    109\n2.0     93\n1.0     92\nName: count, dtype: int64\n\n\n\n\n\n\n\n\n\n\n\n\nBelow we execute the corresponding step and display intermediate outputs for inspection and traceability.\n\n\n\n\n\n\n\n\n\n\n\n\nWe project clustered locations into a geographic map and render an interactive HTML (CartoDB tiles) where each ZIP/city is colored by cluster. This view reveals spatial patterns—regional concentrations, urban vs. suburban segmentation, and cross-state similarities.\n\n\n\n\n\n\n\n\n\n\n\n\nWe project clustered locations into a geographic map and render an interactive HTML (CartoDB tiles) where each ZIP/city is colored by cluster. This view reveals spatial patterns—regional concentrations, urban vs. suburban segmentation, and cross-state similarities.\n\n\n\n\n\n\n\n\n\n\n\n\nWe project clustered locations into a geographic map and render an interactive HTML (CartoDB tiles) where each ZIP/city is colored by cluster. This view reveals spatial patterns—regional concentrations, urban vs. suburban segmentation, and cross-state similarities.\n\n\nMapa interactivo guardado en 'mapa_clusters_interactivo.html'\n\n\n\n\n\nWe project clustered locations into a geographic map and render an interactive HTML (CartoDB tiles) where each ZIP/city is colored by cluster. This view reveals spatial patterns—regional concentrations, urban vs. suburban segmentation, and cross-state similarities.\n\ngdf_w = gdf.to_crs(epsg=4326)\n\nmG = gdf_w.explore(\n    column=\"cluster\",\n    categorical=True,\n    cmap=\"Set2\",\n    tiles=\"CartoDB positron\",\n    legend=True\n)\n\nmG.save(\"mapa_clusters_interactivo_global.html\")\nprint(\"Mapa interactivo guardado en 'mapa_clusters_interactivo_global.html'\")"
  },
  {
    "objectID": "us_housing_clustering.html#data-sources-and-loading",
    "href": "us_housing_clustering.html#data-sources-and-loading",
    "title": "US Housing Market Clustering & PCA",
    "section": "",
    "text": "We start by loading the main dataset from Kaggle (HousingTS) and merging auxiliary features when available (POI counts from OSM and ACS/Census demographics). We ensure identifiers (e.g., ZIP/city, date) are consistent and that time-dependent features can be aggregated at the desired granularity."
  },
  {
    "objectID": "us_housing_clustering.html#analysis-step",
    "href": "us_housing_clustering.html#analysis-step",
    "title": "US Housing Market Clustering & PCA",
    "section": "",
    "text": "Below we execute the corresponding step and display intermediate outputs for inspection and traceability."
  },
  {
    "objectID": "us_housing_clustering.html#analysis-step-1",
    "href": "us_housing_clustering.html#analysis-step-1",
    "title": "US Housing Market Clustering & PCA",
    "section": "",
    "text": "Below we execute the corresponding step and display intermediate outputs for inspection and traceability."
  },
  {
    "objectID": "us_housing_clustering.html#principal-component-analysis-pca",
    "href": "us_housing_clustering.html#principal-component-analysis-pca",
    "title": "US Housing Market Clustering & PCA",
    "section": "",
    "text": "We apply PCA to capture the dominant variation across locations while retaining a predefined proportion of explained variance (e.g., 90%). Interpreting PC1 and PC2 helps summarize broad market/demographic/POI gradients. Scatter plots in PCA space offer a compact view of separation tendencies prior to clustering.\n\n\n[0.34685209 0.23041372 0.11418052 0.06327196 0.04944255 0.04276308\n 0.02503939 0.02146856 0.01447887]\n[0.34685209 0.57726581 0.69144634 0.7547183  0.80416085 0.84692393\n 0.87196332 0.89343188 0.90791075]"
  },
  {
    "objectID": "us_housing_clustering.html#choosing-the-number-of-clusters-k",
    "href": "us_housing_clustering.html#choosing-the-number-of-clusters-k",
    "title": "US Housing Market Clustering & PCA",
    "section": "",
    "text": "We evaluate candidate values of K (e.g., inertia curves and/or silhouette checks) to balance parsimony and segmentation quality. The selected K is used to fit K-Means in the reduced PCA space, stabilizing clusters and improving separation.\n\n\nComponentes PCA: 9\nVarianza explicada por componente: [0.34685209 0.23041372 0.11418052 0.06327196 0.04944255 0.04276308\n 0.02503939 0.02146856 0.01447887]\nVarianza explicada acumulada: [0.34685209 0.57726581 0.69144634 0.7547183  0.80416085 0.84692393\n 0.87196332 0.89343188 0.90791075]"
  },
  {
    "objectID": "us_housing_clustering.html#principal-component-analysis-pca-1",
    "href": "us_housing_clustering.html#principal-component-analysis-pca-1",
    "title": "US Housing Market Clustering & PCA",
    "section": "",
    "text": "We apply PCA to capture the dominant variation across locations while retaining a predefined proportion of explained variance (e.g., 90%). Interpreting PC1 and PC2 helps summarize broad market/demographic/POI gradients. Scatter plots in PCA space offer a compact view of separation tendencies prior to clustering.\n\nplt.figure(figsize=(8,6))\nplt.scatter(pca_df[\"PC1\"], pca_df[\"PC2\"], s=8, alpha=0.5)\nplt.xlabel(\"PC1\")\nplt.ylabel(\"PC2\")\nplt.title(\"Espacio PCA = PC1 vs PC2\")\nplt.show()"
  },
  {
    "objectID": "us_housing_clustering.html#choosing-the-number-of-clusters-k-1",
    "href": "us_housing_clustering.html#choosing-the-number-of-clusters-k-1",
    "title": "US Housing Market Clustering & PCA",
    "section": "",
    "text": "We evaluate candidate values of K (e.g., inertia curves and/or silhouette checks) to balance parsimony and segmentation quality. The selected K is used to fit K-Means in the reduced PCA space, stabilizing clusters and improving separation.\n\n\nk con mejor silueta: 4"
  },
  {
    "objectID": "us_housing_clustering.html#principal-component-analysis-pca-2",
    "href": "us_housing_clustering.html#principal-component-analysis-pca-2",
    "title": "US Housing Market Clustering & PCA",
    "section": "",
    "text": "We apply PCA to capture the dominant variation across locations while retaining a predefined proportion of explained variance (e.g., 90%). Interpreting PC1 and PC2 helps summarize broad market/demographic/POI gradients. Scatter plots in PCA space offer a compact view of separation tendencies prior to clustering."
  },
  {
    "objectID": "us_housing_clustering.html#principal-component-analysis-pca-3",
    "href": "us_housing_clustering.html#principal-component-analysis-pca-3",
    "title": "US Housing Market Clustering & PCA",
    "section": "",
    "text": "We apply PCA to capture the dominant variation across locations while retaining a predefined proportion of explained variance (e.g., 90%). Interpreting PC1 and PC2 helps summarize broad market/demographic/POI gradients. Scatter plots in PCA space offer a compact view of separation tendencies prior to clustering.\n\n\nstation                    6.292687\nrestaurant                 6.033795\nsupermarket                5.931101\nbank                       5.798149\npark                       5.090172\nhospital                   4.288910\nschool                     3.899366\nmedian_list_ppsf           2.905003\nmedian_ppsf                2.526744\nbus                        2.178003\nMedian Home Value          1.285565\nprice                      1.164426\nmedian_sale_price          1.155048\nTotal Housing Units        0.807132\nmall                       0.791088\nmedian_list_price          0.729817\nTotal Labor Force          0.695403\nMedian Commute Time        0.679908\nPer Capita Income          0.656566\nTotal School Enrollment    0.654586\ndtype: float64"
  },
  {
    "objectID": "us_housing_clustering.html#data-preparation-and-standardization",
    "href": "us_housing_clustering.html#data-preparation-and-standardization",
    "title": "US Housing Market Clustering & PCA",
    "section": "",
    "text": "Before multivariate analysis, features are standardized using z-scores to place all variables on comparable scales. This is crucial for PCA and K-Means, which are sensitive to differences in units and magnitude."
  },
  {
    "objectID": "us_housing_clustering.html#analysis-step-2",
    "href": "us_housing_clustering.html#analysis-step-2",
    "title": "US Housing Market Clustering & PCA",
    "section": "",
    "text": "Below we execute the corresponding step and display intermediate outputs for inspection and traceability.\n\n\n\n\n\n\n\nTable 1: Perfiles de cluster (z-scores estandarizados) — columnas ordenadas por importancia\n\n\n\n\n\n \nstation\nrestaurant\nsupermarket\nbank\npark\nhospital\nschool\nmedian_list_ppsf\nmedian_ppsf\nbus\nMedian Home Value\nprice\nmedian_sale_price\nTotal Housing Units\nmall\nmedian_list_price\nTotal Labor Force\nMedian Commute Time\nPer Capita Income\nTotal School Enrollment\n\n\ncluster\n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n\n\n\n\n0\n-0.22\n-0.26\n-0.36\n-0.29\n-0.37\n-0.32\n-0.36\n-0.34\n-0.33\n-0.27\n-0.42\n-0.30\n-0.30\n-0.72\n-0.28\n-0.24\n-0.72\n-0.71\n-0.30\n-0.71\n\n\n1\n-0.07\n-0.08\n0.04\n-0.03\n0.06\n0.03\n0.11\n-0.20\n-0.18\n0.04\n-0.12\n-0.23\n-0.22\n0.98\n0.12\n-0.19\n1.00\n1.00\n-0.10\n1.01\n\n\n2\n4.96\n4.89\n4.86\n4.80\n4.51\n4.14\n3.95\n3.33\n3.09\n2.96\n1.70\n1.70\n1.69\n1.21\n1.77\n1.32\n0.98\n0.93\n1.15\n0.85\n\n\n3\n0.12\n0.34\n0.42\n0.35\n0.46\n0.42\n0.40\n1.26\n1.22\n0.41\n1.67\n1.50\n1.50\n-0.03\n0.45\n1.21\n-0.03\n-0.05\n1.24\n-0.07"
  },
  {
    "objectID": "us_housing_clustering.html#principal-component-analysis-pca-4",
    "href": "us_housing_clustering.html#principal-component-analysis-pca-4",
    "title": "US Housing Market Clustering & PCA",
    "section": "",
    "text": "We apply PCA to capture the dominant variation across locations while retaining a predefined proportion of explained variance (e.g., 90%). Interpreting PC1 and PC2 helps summarize broad market/demographic/POI gradients. Scatter plots in PCA space offer a compact view of separation tendencies prior to clustering.\n\nimport geopandas as gpd\n\nzcta = gpd.read_file(\"C:/EMILIO/PROYECTOS PERSONALES EN PYTHON/US_housing_clustering/data/Shapefiles/tl_2020_us_zcta520.shp\")\n\nzcta.head()\n\n#ajustamos el dataframe para tener solo el zipcode y el cluster asociado.\ndf_map = pca_df[[\"zipcode\", \"cluster\",\"city\"]].drop_duplicates()\n\n#Como en el archivo .shp tiene el zipcode con 5 dígitos hay que actualizar la variable en este df para matchear\ndf_map[\"zipcode_str\"] = df_map[\"zipcode\"].astype(str).str.zfill(5)\n\n#renombramos la variable para que tengan el mismo nombre en ambos datframes.\nzcta = zcta.rename(columns={\"ZCTA5CE20\": \"zipcode_str\"})\n\n#mergeamos para tenerlo en una sola BBDD\ngdf = zcta.merge(df_map, on=\"zipcode_str\", how=\"left\")\n\n\ngdf.plot(column=\"cluster\", categorical=True, legend=True, figsize=(12,8))"
  },
  {
    "objectID": "us_housing_clustering.html#analysis-step-3",
    "href": "us_housing_clustering.html#analysis-step-3",
    "title": "US Housing Market Clustering & PCA",
    "section": "",
    "text": "Below we execute the corresponding step and display intermediate outputs for inspection and traceability.\n\n# Filtrar por una ciudad\nciudad = \"NY\"  # cámbialo por el nombre de la ciudad que te interese\ngdf_city = gdf[gdf[\"city\"] == ciudad].copy()\n\n# Revisar cuántos clusters hay dentro de esa ciudad\nprint(gdf_city[\"cluster\"].value_counts())\n\nimport matplotlib.pyplot as plt\n\nfig, ax = plt.subplots(figsize=(10, 8))\ngdf_city.plot(column=\"cluster\", categorical=True, legend=True, cmap=\"Set2\", ax=ax)\nax.set_title(f\"Clusters en {ciudad}\", fontsize=14)\nax.axis(\"off\")\nplt.show()\n\ncluster\n0.0    535\n3.0    109\n2.0     93\n1.0     92\nName: count, dtype: int64"
  },
  {
    "objectID": "us_housing_clustering.html#analysis-step-4",
    "href": "us_housing_clustering.html#analysis-step-4",
    "title": "US Housing Market Clustering & PCA",
    "section": "",
    "text": "Below we execute the corresponding step and display intermediate outputs for inspection and traceability."
  },
  {
    "objectID": "us_housing_clustering.html#geospatial-visualization-of-clusters",
    "href": "us_housing_clustering.html#geospatial-visualization-of-clusters",
    "title": "US Housing Market Clustering & PCA",
    "section": "",
    "text": "We project clustered locations into a geographic map and render an interactive HTML (CartoDB tiles) where each ZIP/city is colored by cluster. This view reveals spatial patterns—regional concentrations, urban vs. suburban segmentation, and cross-state similarities."
  },
  {
    "objectID": "us_housing_clustering.html#geospatial-visualization-of-clusters-1",
    "href": "us_housing_clustering.html#geospatial-visualization-of-clusters-1",
    "title": "US Housing Market Clustering & PCA",
    "section": "",
    "text": "We project clustered locations into a geographic map and render an interactive HTML (CartoDB tiles) where each ZIP/city is colored by cluster. This view reveals spatial patterns—regional concentrations, urban vs. suburban segmentation, and cross-state similarities."
  },
  {
    "objectID": "us_housing_clustering.html#geospatial-visualization-of-clusters-2",
    "href": "us_housing_clustering.html#geospatial-visualization-of-clusters-2",
    "title": "US Housing Market Clustering & PCA",
    "section": "",
    "text": "We project clustered locations into a geographic map and render an interactive HTML (CartoDB tiles) where each ZIP/city is colored by cluster. This view reveals spatial patterns—regional concentrations, urban vs. suburban segmentation, and cross-state similarities.\n\n\nMapa interactivo guardado en 'mapa_clusters_interactivo.html'"
  },
  {
    "objectID": "us_housing_clustering.html#geospatial-visualization-of-clusters-3",
    "href": "us_housing_clustering.html#geospatial-visualization-of-clusters-3",
    "title": "US Housing Market Clustering & PCA",
    "section": "",
    "text": "We project clustered locations into a geographic map and render an interactive HTML (CartoDB tiles) where each ZIP/city is colored by cluster. This view reveals spatial patterns—regional concentrations, urban vs. suburban segmentation, and cross-state similarities.\n\ngdf_w = gdf.to_crs(epsg=4326)\n\nmG = gdf_w.explore(\n    column=\"cluster\",\n    categorical=True,\n    cmap=\"Set2\",\n    tiles=\"CartoDB positron\",\n    legend=True\n)\n\nmG.save(\"mapa_clusters_interactivo_global.html\")\nprint(\"Mapa interactivo guardado en 'mapa_clusters_interactivo_global.html'\")"
  },
  {
    "objectID": "EEUU_CLUSTERIZADO.html",
    "href": "EEUU_CLUSTERIZADO.html",
    "title": "Análisis del mercado inmobiliario en Estados Unidos",
    "section": "",
    "text": "Este informe presenta una segmentación del mercado inmobiliario estadounidense basada en datos a nivel de código postal/ciudad. Combinamos indicadores de vivienda (p. ej., precio medio de venta/listado, inventario, días en el mercado) con puntos de interés (POI) de OSM y datos demográficos. Nuestro flujo de trabajo se centra en la estandarización, la reducción de dimensionalidad (PCA), la agrupación (K-Means) y la visualización geoespacial. Mantenemos el código sin cambios y priorizamos una interpretación clara y reproducible de cada paso.\nPreguntas clave que abordamos: - ¿Qué dimensiones latentes resumen mejor la variación entre ubicaciones? - ¿Cuántos segmentos de mercado (clústeres) distintos emergen? - ¿Qué caracteriza a cada clúster en términos de señales de mercado, POI y datos demográficos? - ¿Dónde se ubican geográficamente estos clústeres?\n\nNota: Este documento no incluye predicción supervisada de precios. El énfasis está en el descubrimiento e interpretación de la estructura. Pero sería una buena actualización para el proyecto en el futuro."
  },
  {
    "objectID": "EEUU_CLUSTERIZADO.html#descripción-general-del-proyecto",
    "href": "EEUU_CLUSTERIZADO.html#descripción-general-del-proyecto",
    "title": "Análisis del mercado inmobiliario en Estados Unidos",
    "section": "",
    "text": "Este informe presenta una segmentación del mercado inmobiliario estadounidense basada en datos a nivel de código postal/ciudad. Combinamos indicadores de vivienda (p. ej., precio medio de venta/listado, inventario, días en el mercado) con puntos de interés (POI) de OSM y datos demográficos. Nuestro flujo de trabajo se centra en la estandarización, la reducción de dimensionalidad (PCA), la agrupación (K-Means) y la visualización geoespacial. Mantenemos el código sin cambios y priorizamos una interpretación clara y reproducible de cada paso.\nPreguntas clave que abordamos: - ¿Qué dimensiones latentes resumen mejor la variación entre ubicaciones? - ¿Cuántos segmentos de mercado (clústeres) distintos emergen? - ¿Qué caracteriza a cada clúster en términos de señales de mercado, POI y datos demográficos? - ¿Dónde se ubican geográficamente estos clústeres?\n\nNota: Este documento no incluye predicción supervisada de precios. El énfasis está en el descubrimiento e interpretación de la estructura. Pero sería una buena actualización para el proyecto en el futuro."
  },
  {
    "objectID": "EEUU_CLUSTERIZADO.html#carga-de-datos",
    "href": "EEUU_CLUSTERIZADO.html#carga-de-datos",
    "title": "Análisis del mercado inmobiliario en Estados Unidos",
    "section": "Carga de datos",
    "text": "Carga de datos\nEmpezamos cargando el dataset principal desde Kaggle (HousingTS) y hacemos una pequeña exploración para comprenderlo mejor. Este es el link del dataset: https://www.kaggle.com/datasets/shengkunwang/housets-dataset\nComo este proyecto lo estamos realizado a través de positron visualizamos en el propio IDE el dataset y vemos que el porcentaje de datos missing es 0 para todas las variables. Es un dataset limpio y listo para analizar."
  },
  {
    "objectID": "EEUU_CLUSTERIZADO.html#visualizaciones-geoespaciales-con-geopandas.",
    "href": "EEUU_CLUSTERIZADO.html#visualizaciones-geoespaciales-con-geopandas.",
    "title": "Análisis del mercado inmobiliario en Estados Unidos",
    "section": "Visualizaciones Geoespaciales con geopandas.",
    "text": "Visualizaciones Geoespaciales con geopandas.\nLa cartografía la obtenemos del census estadounidense aquí: https://www.census.gov/cgi-bin/geo/shapefiles/index.php?year=2020&layergroup=ZIP%20Code%20Tabulation%20Areas\n\nLectura de los datos geoespaciales.\n\nimport geopandas as gpd\n\nzcta = gpd.read_file(\"C:/EMILIO/PROYECTOS PERSONALES EN PYTHON/US_housing_clustering/data/Shapefiles/tl_2020_us_zcta520.shp\")\n\nzcta.head()\n\n#ajustamos el dataframe para tener solo el zipcode y el cluster asociado.\ndf_map = pca_df[[\"zipcode\", \"cluster\",\"city\"]].drop_duplicates()\n\n#Como en el archivo .shp tiene el zipcode con 5 dígitos hay que actualizar la variable en este df para matchear\ndf_map[\"zipcode_str\"] = df_map[\"zipcode\"].astype(str).str.zfill(5)\n\n#renombramos la variable para que tengan el mismo nombre en ambos datframes.\nzcta = zcta.rename(columns={\"ZCTA5CE20\": \"zipcode_str\"})\n\n#mergeamos para tenerlo en una sola BBDD\ngdf = zcta.merge(df_map, on=\"zipcode_str\", how=\"left\")\n\n\ngdf.plot(column=\"cluster\", categorical=True, legend=True, figsize=(12,8))\n\n\n\n\n\n\n\n\n\n# Filtrar por una ciudad\nciudad = \"NY\"  # cámbialo por el nombre de la ciudad que te interese\ngdf_city = gdf[gdf[\"city\"] == ciudad].copy()\n\n# Revisar cuántos clusters hay dentro de esa ciudad\nprint(gdf_city[\"cluster\"].value_counts())\n\nimport matplotlib.pyplot as plt\n\nfig, ax = plt.subplots(figsize=(10, 8))\ngdf_city.plot(column=\"cluster\", categorical=True, legend=True, cmap=\"Set2\", ax=ax)\nax.set_title(f\"Clusters en {ciudad}\", fontsize=14)\nax.axis(\"off\")\nplt.show()\n\ncluster\n0.0    535\n3.0    109\n2.0     93\n1.0     92\nName: count, dtype: int64\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLe incorporamos zoom para poder verlo desde más cerca.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMapa interactivo guardado en 'mapa_clusters_interactivo.html'\n\n\n\ngdf_w = gdf.to_crs(epsg=4326)\n\nmG = gdf_w.explore(\n    column=\"cluster\",\n    categorical=True,\n    cmap=\"Set2\",\n    tiles=\"CartoDB positron\",\n    legend=True\n)\n\nmG.save(\"mapa_clusters_interactivo_global.html\")\nprint(\"Mapa interactivo guardado en 'mapa_clusters_interactivo_global.html'\")"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "docs",
    "section": "",
    "text": "This is a Quarto website.\nTo learn more about Quarto websites visit https://quarto.org/docs/websites."
  }
]